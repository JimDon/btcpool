version: '3'
services:
  rs1:
    image: mongo
    network_mode: "host"
    ports:
      - 27017:27017
    volumes:
      - /data/mongodb/rs1:/data/db
    command: mongod --port 27017 --dbpath /data/db --replSet mongoreplset
  rs2:
    image: mongo

    network_mode: "host"
    ports:
      - 27018:27018

    volumes:
      - /data/mongodb/rs2:/data/db
    command: mongod --port 27018 --dbpath /data/db --replSet mongoreplset
  rs3:
    image: mongo

    network_mode: "host"
    
    ports:
      - 27019:27019
    volumes:
      - /data/mongodb/rs3:/data/db
    command: mongod --port 27019 --dbpath /data/db --replSet mongoreplset
